# RPG System for MyBB 1.8+

Этот плагин добавляет в форум MyBB модульную RPG-систему. Он разрабатывается для PHP 8.3 и предполагает подключаемые модули.

## Возможности

- **Характеристики** — атрибуты (сила, ловкость, телосложение, интеллект, харизма, мудрость), статы (очки здоровья, очки энергии, очки брони, урон), уровни, навыки, скиллы, специализации, расы и классы.
- **Система предметов** — единая база предметов.
- **Инвентарь** — персональные хранилища для пользователей.
- **Игровая валюта** — учет и управление деньгами.
- **Магазин** — покупка и продажа предметов.
- **Крафт** — создание предметов из ресурсов.
- **Добыча** — получение ресурсов и трофеев.
- **Бестиарий** — монстрятник, его статы, урон, опасность и зоны обитания.
- **Бой** — система сражений между персонажами.
- **Сцены** — события и ситуации в игре.
- **Квесты** — задания для пользователей.
- **RPG-toolbar** — кубики и кнопки в форме ответа (кнопки действий: защита, атака и т.д., инвентарь, лист персонажа).
- **Создание персонажа** — анкета персонажа, использующая дополнительные поля профиля. Вставка {quenta}.
- **Лист персонажа** — игромеханический лист с базовыми и кастомными полями. Вставка {charlist}.
- **Подсчёт символов и слов** — ведёт статистику написанного текста и показывает счётчики в форме ответа.

## Модули ядра

Ядро плагина загружает следующие модули:

- Attributes
- Items
- Inventory
- Currency
- Shop
- Crafting
- Loot
- Bestiary
- Battle
- Scenes
- Quests
- RPG Toolbar
- Character Creation
- Character Sheet
- Counter

Документация будет расширяться по мере разработки и добавления новых модулей.

## Администрирование


После установки плагина в админ‑панели появится вкладка «RPG System». Она добавляется модулем в каталоге `admin/modules/rpgsystem` и открывается по адресу `/admin/index.php?module=rpgsystem`. На главной странице выводятся ссылки на все подключённые подсистемы (магазин, инвентарь, валюта и другие).

## Модуль Currency

Страница управления валютой находится по адресу `/admin/index.php?module=rpgsystem-currency` и отображается в меню раздела RPG System. На ней можно создать новую валюту, указав название, префикс и суффикс.

В настройках задаются суммы начисления за регистрацию, активацию аккаунта, создание темы и написание поста. Дополнительно можно установить количество символов, которое необходимо для получения одной монеты, и перечислить форумы, в которых действует подсчёт символов.

Для групп, имеющих право вручную редактировать баланс, используется список с мультивыбором. Изменение баланса происходит через события и может быть интегрировано с системой задач.

Баланс пользователя можно вывести в шаблоне `postbit` через переменную `{$post['rpgcurrency']}`.


## Модуль Counter

Этот модуль подсчитывает количество символов и слов в сообщениях на указанных форумах. В админ‑панели доступна страница `/admin/index.php?module=rpgsystem-counter`, где отображается таблица со статистикой пользователей.

При создании или редактировании сообщения под редактором показывается динамический счётчик символов и слов. В каждом опубликованном сообщении после даты добавляется надпись вида «количество символов: N».

## Модуль Character Creation
В меню RPG System доступна страница `/admin/index.php?module=rpgsystem-charactercreation`. На ней выбираются дополнительные поля профиля из раздела «Дополнительные поля профиля» и задаются название и адрес формы (например `/charactercreation.php`). Выбранные поля образуют анкету персонажа, которую можно вывести переменной `{rpgcharacter}`.
